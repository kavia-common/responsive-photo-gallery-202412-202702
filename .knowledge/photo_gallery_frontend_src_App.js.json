{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file implements a frontend React component for a responsive, client-only photo gallery with features such as search, filtering by tags, favorites, modal image viewing, and local image uploads. It contains seed data, helper functions for URL handling, state management for gallery items, modal navigation, and UI controls.", "external_files": ["./App.css"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "URL.createObjectURL", "URL.revokeObjectURL", "URL", "setTimeout", "document.activeElement", "document.addEventListener", "document.removeEventListener"], "published": ["App"], "classes": [], "methods": [{"name": "makePhotoUrl(seed, width, height)", "description": "Generates a deterministic image URL from a seed value using picsum.photos service to create placeholder images.", "scope": "", "scopeKind": ""}, {"name": "normalizeHttpUrl(value)", "description": "Validates and normalizes a user-input URL to ensure it is an http/https URL.", "scope": "", "scopeKind": ""}, {"name": "makeClientPhoto({ title, url, source })", "description": "Creates a photo object for images added client-side, either from URL or local file, with in-memory storage.", "scope": "", "scopeKind": ""}, {"name": "readFavoritesFromStorage()", "description": "Reads the set of favorite photo IDs from localStorage, handling errors gracefully.", "scope": "", "scopeKind": ""}, {"name": "writeFavoritesToStorage(favoritesSet)", "description": "Persists the set of favorite photo IDs to localStorage.", "scope": "", "scopeKind": ""}, {"name": "App()", "description": "Main React functional component that renders the photo gallery UI, manages state, handles user interactions, modal view, filtering, sorting, and local image additions.", "scope": "", "scopeKind": ""}], "calls": ["makePhotoUrl", "normalizeHttpUrl", "makeClientPhoto", "readFavoritesFromStorage", "writeFavoritesToStorage", "setPhotos", "setQuery", "setSelectedTags", "setActiveIndex", "setFavoriteIds", "setFavoritesOnly", "setAddUrl", "setAddTitle", "setAddFile", "setAddStatus", "URL.createObjectURL", "URL.revokeObjectURL"], "search-terms": ["React Photo Gallery", "responsive masonry grid", "modal image viewer", "client-only image upload", "favorites persistence", "tag filtering", "search functionality", "local storage favorites", "placeholder images", "React hooks state management"], "state": 2, "file_id": 9, "knowledge_revision": 40, "git_revision": "6516c11dac5bc5684c1b0e8bb977db5fb5b664e8", "revision_history": [{"25": "6e3939d93a2c55373f2171aa00d7cbdea9d0dd78"}, {"26": "6e3939d93a2c55373f2171aa00d7cbdea9d0dd78"}, {"31": "12d10053cf3af5750b3019c7b9f7076fc56b6784"}, {"32": "01f20a77f3a3c4ebbe599b6dd10f050dfe3e3562"}, {"33": "160193693fa6e94ee125b63b16880218f47701c0"}, {"35": "26a0e17a63b9b158a91c37a3826e1508790e4236"}, {"37": "d6497dcfb9937210a194d454bd90e880ce92137d"}, {"40": "6516c11dac5bc5684c1b0e8bb977db5fb5b664e8"}], "ctags": [{"_type": "tag", "name": "App", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^function App() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "FAVORITES_STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^const FAVORITES_STORAGE_KEY = \"pg:favorites:v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "PHOTO_SEED", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^const PHOTO_SEED = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "addTitle", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^                    value={addTitle}$/", "language": "JavaScript", "kind": "field", "scope": "App.value", "scopeKind": "class"}, {"_type": "tag", "name": "addUrl", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^                    value={addUrl}$/", "language": "JavaScript", "kind": "field", "scope": "App.value", "scopeKind": "class"}, {"_type": "tag", "name": "favoritesOnly", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^                aria-pressed={favoritesOnly}$/", "language": "JavaScript", "kind": "field", "scope": "App.aria", "scopeKind": "class"}, {"_type": "tag", "name": "favoritesOnly", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^                title={favoritesOnly ? \"Show all photos\" : \"Show favorites only\"}$/", "language": "JavaScript", "kind": "field", "scope": "App.title", "scopeKind": "class"}, {"_type": "tag", "name": "makeClientPhoto", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^function makeClientPhoto({ title, url, source }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ title, url, source })"}, {"_type": "tag", "name": "makePhotoUrl", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^function makePhotoUrl(seed, width, height) {$/", "language": "JavaScript", "kind": "function", "signature": "(seed, width, height)"}, {"_type": "tag", "name": "normalizeHttpUrl", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^function normalizeHttpUrl(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "pg-favtoggle ${favoritesOnly ? \"pg-favtoggle--active\" : \"\"}", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^                className={`pg-favtoggle ${favoritesOnly ? \"pg-favtoggle--active\" : \"\"}`}$/", "language": "JavaScript", "kind": "field", "scope": "App.className", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^                value={query}$/", "language": "JavaScript", "kind": "field", "scope": "App.value", "scopeKind": "class"}, {"_type": "tag", "name": "readFavoritesFromStorage", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^function readFavoritesFromStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "source", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^  const addImageToGallery = ({ source }) => {$/", "language": "JavaScript", "kind": "field", "scope": "App.addImageToGallery", "scopeKind": "class"}, {"_type": "tag", "name": "writeFavoritesToStorage", "path": "/home/kavia/workspace/code-generation/responsive-photo-gallery-202412-202702/photo_gallery_frontend/src/App.js", "pattern": "/^function writeFavoritesToStorage(favoritesSet) {$/", "language": "JavaScript", "kind": "function", "signature": "(favoritesSet)"}], "hash": "ecb7290ef7061450286261f1a841960e", "format-version": 4, "code-base-name": "photo_gallery_frontend", "filename": "photo_gallery_frontend/src/App.js", "fields": [{"name": "value={addTitle}", "scope": "App.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={addUrl}", "scope": "App.value", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-pressed={favoritesOnly}", "scope": "App.aria", "scopeKind": "class", "description": "unavailable"}, {"name": "title={favoritesOnly ? \"Show all photos\" : \"Show favorites only\"}", "scope": "App.title", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`pg-favtoggle ${favoritesOnly ? \"pg-favtoggle--active\" : \"\"}`}", "scope": "App.className", "scopeKind": "class", "description": "unavailable"}, {"name": "value={query}", "scope": "App.value", "scopeKind": "class", "description": "unavailable"}, {"name": "const addImageToGallery = ({ source }) => {", "scope": "App.addImageToGallery", "scopeKind": "class", "description": "unavailable"}]}